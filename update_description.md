# XXXBOT-PAD 1.5.3.2 更新内容

## 新功能与改进

- 修复了群聊中@机器人时的消息处理逻辑，确保只有@机器人的消息才会被处理
- 增强了插件唤醒词检测机制，支持检查插件的`command_prefix`属性（如DifyConversationManager插件的`/dify`前缀）
- 在管理后台添加了版本更新提醒的"不再提醒此版本"功能，提高用户体验和效率

## 详细说明

### 群聊消息处理优化
- 在群聊中，机器人现在只会响应明确@它的消息，忽略其他消息
- 此优化适用于所有消息类型，包括文本、图片、语音等
- 提高了机器人在群聊中的使用体验，避免了不必要的干扰

### 插件唤醒词检测增强
- 新增对插件`command_prefix`属性的支持，使更多类型的插件命令能被正确识别
- 特别优化了对DifyConversationManager等使用命令前缀的插件的支持
- 保持了对现有`wakeup_words`、`trigger_words`和`commands`属性的兼容性

### 管理后台更新提醒优化
- 添加"不再提醒此版本"选项，用户可选择不再接收当前版本的更新提醒
- 手动检查更新时会重置提醒设置，确保用户能看到最新更新
- 优化了更新提醒的显示逻辑，提高了管理后台的使用效率

# 历史更新记录

## XXXBOT-PAD 1.5.3.1

### 主要更新
- 优化了Docker容器的自动重启策略，添加了`restart: always`配置
- 改进了Docker卷映射，现在使用用户的下载目录
- 修复了wx849_channel.py中并发消息导致的路由错误问题
- 优化了DOW框架，防止@all消息被传播到所有插件

### 框架改进
- 将PAD服务启动代码从entrypoint移至main.py
- 移除了聊天室功能
- 添加了开源许可证和商业使用禁止声明
- 在main_config.toml中添加了GitHub加速服务配置（优先使用https://gh-proxy.com）

### 用户体验优化
- 实现了真正的账号切换功能，支持独立数据库和插件控制
- 优化了机器人名称检测，无需手动配置
- 改进了DOW框架API路径，从'/VXAPI'更改为'/api'
- 优化了管理后台通知设置中的HTML双引号转义问题

## XXXBOT-PAD 1.5.3.0

### 核心功能
- 实现了基于849协议的微信机器人框架
- 添加了插件系统，支持多种AI平台集成
- 提供了完整的管理后台，支持插件管理、文件管理等功能
- 支持Docker部署，简化安装和使用

### 消息处理
- 在私聊中处理所有消息，在群聊中只处理@消息或命令触发
- 忽略官方账号、订阅号、公众号、系统账号、支付/游戏通知等消息
- 每条消息作为独立的异步处理过程
- 支持图片、语音、文件等多种消息类型的处理

### 插件系统
- 支持插件的版本显示、更新通知、删除功能和URL上传
- 集成了MCP（Model Context Protocol）用于插件管理
- 支持多种AI平台：OpenAI、SiliconFlow、Dify等
- 提供了视频下载、小说下载等实用插件

### 管理界面
- 提供了美观的Web管理界面
- 支持插件管理、文件管理、联系人管理等功能
- 提供系统状态监控和通知设置
- 支持移动端访问和响应式设计
